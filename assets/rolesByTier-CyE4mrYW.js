import{r as m,j as o,E as h}from"./v-react-Cmv71mWS.js";import{C as R}from"./ChartButtonBox-Dk04nHfm.js";import{C as E,S as d}from"./index-BdOX408g.js";import"./v-lodash-Dtxmn3UF.js";import"./v-echarts-BO3Y36ks.js";import"./v-prosemirror-Cp-VVqB4.js";import"./v-@sentry-DA5FXZpo.js";function A({playerData:s=[]}){const[r,l]=m.useState(!0),e=(t,n)=>{const u=s.filter(a=>a.role===t&&a.tier.name===n).length,p=s.filter(a=>a.tier.name===n).length;return r?u/p*100:u},i=t=>s.filter(n=>n.tier.name===t).length,c=[{name:"Rifler",type:"bar",stack:"total",label:{show:!0,formatter:function(t){return r?`${t.value.toFixed(2)}%`:`${t.value}`}},emphasis:{focus:"series"},data:[e("RIFLER","Recruit"),e("RIFLER","Prospect"),e("RIFLER","Contender"),e("RIFLER","Challenger"),e("RIFLER","Elite"),e("RIFLER","Premier")]},{name:"Awper",type:"bar",stack:"total",label:{show:!0,formatter:function(t){return r?`${t.value.toFixed(2)}%`:`${t.value}`}},emphasis:{focus:"series"},data:[e("AWPER","Recruit"),e("AWPER","Prospect"),e("AWPER","Contender"),e("AWPER","Challenger"),e("AWPER","Elite"),e("AWPER","Premier")]},{name:"Support",type:"bar",stack:"total",label:{show:!0,formatter:function(t){return r?`${t.value.toFixed(2)}%`:`${t.value}`}},emphasis:{focus:"series"},data:[e("SUPPORT","Recruit"),e("SUPPORT","Prospect"),e("SUPPORT","Contender"),e("SUPPORT","Challenger"),e("SUPPORT","Elite"),e("SUPPORT","Premier")]},{name:"Fragger",type:"bar",stack:"total",label:{show:!0,formatter:function(t){return r?`${t.value.toFixed(2)}%`:`${t.value}`}},emphasis:{focus:"series"},data:[e("FRAGGER","Recruit"),e("FRAGGER","Prospect"),e("FRAGGER","Contender"),e("FRAGGER","Challenger"),e("FRAGGER","Elite"),e("FRAGGER","Premier")]},{name:"Entry",type:"bar",stack:"total",label:{show:!0,formatter:function(t){return r?`${t.value.toFixed(2)}%`:`${t.value}`}},emphasis:{focus:"series"},data:[e("ENTRY","Recruit"),e("ENTRY","Prospect"),e("ENTRY","Contender"),e("ENTRY","Challenger"),e("ENTRY","Elite"),e("ENTRY","Premier")]},...r?[]:[{name:"Total Players",data:[i("Recruit"),i("Prospect"),i("Contender"),i("Challenger"),i("Elite"),i("Premier")],type:"line",smooth:!0}]],P={title:{text:r?"Proportion of Players in Roles by Tier":"Total Players in Roles by Tier",left:"center",top:30,textStyle:{color:"#FFFFFF"}},xAxis:{type:"category",data:["Recruit","Prospect","Contender","Challenger","Elite","Premier"]},yAxis:{type:"value",max:r?100:null,axisLabel:{formatter:r?"{value}%":"{value}"}},legend:[{orient:"vertical",right:-10,top:100}],tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},series:c};return o.jsxs(o.Fragment,{children:[o.jsxs(E,{children:[o.jsx(R,{isSelected:!r,onClick:()=>l(!1),children:"Totals"}),o.jsx(R,{isSelected:r,onClick:()=>l(!0),children:"Proportions"})]}),o.jsx(d,{children:o.jsx(h,{className:"w-full pr-4",option:P,style:{height:500}},r?"proportions":"totals")})]})}export{A as RoleByTierBarChart};
