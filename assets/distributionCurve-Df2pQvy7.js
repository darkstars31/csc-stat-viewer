import{h as W,j as e,E as f}from"./v-react-CU8OFRHn.js";import{C}from"./ChartButtonBox-B_yNKVCT.js";import{u as M,S as b,L as R,C as v}from"./index-BF9z0qbB.js";import"./v-lodash-Dtxmn3UF.js";import"./v-echarts-BO3Y36ks.js";import"./v-prosemirror-Cp-VVqB4.js";import"./v-@sentry-DA5FXZpo.js";const p=(s,{tier:n})=>s.filter(r=>r.Tier===n).flatMap(r=>r.MMR),c=(s,n)=>{const r=n[n.length-1],t={};for(let a=100;a<r+s;a+=s){const i=n.filter(o=>o>=a&&o<a+s&&o<r);t[`${a}-${a+s}`]=i.length}return t};function F({playerData:s}){const{players:n,isLoading:r}=M(),[t,a]=W.useState({mmrGroupingWidth:20}),i=n.flatMap(l=>({MMR:l.mmr??0,Tier:l.tier.name})).sort((l,y)=>l.MMR-y.MMR);if(r)return e.jsx(b,{children:e.jsx(R,{})});const o=c(t.mmrGroupingWidth,p(i,{tier:"Recruit"})),u=c(t.mmrGroupingWidth,p(i,{tier:"Prospect"})),d=c(t.mmrGroupingWidth,p(i,{tier:"Contender"})),h=c(t.mmrGroupingWidth,p(i,{tier:"Challenger"})),g=c(t.mmrGroupingWidth,p(i,{tier:"Elite"})),x=c(t.mmrGroupingWidth,p(i,{tier:"Premier"})),m="4",j={legend:{},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},xAxis:{type:"category",data:[...Object.keys({...o,...u,...d,...h,...g,...x})]},yAxis:{type:"value"},series:[{name:"Recruit",data:Object.values(o),type:"bar",barWidth:m,emphasis:{}},{name:"Prospect",data:Object.values(u),type:"bar",barWidth:m,emphasis:{}},{name:"Contender",data:Object.values(d),type:"bar",barWidth:m,emphasis:{}},{name:"Challenger",data:Object.values(h),type:"bar",barWidth:m,emphasis:{}},{name:"Elite",data:Object.values(g),type:"bar",barWidth:m,emphasis:{}},{name:"Premier",data:Object.values(x),type:"bar",barWidth:m,emphasis:{}}]};return e.jsxs(e.Fragment,{children:[e.jsx(b,{children:e.jsx(f,{option:j,className:"w-full pr-4",style:{height:600}})}),e.jsx("div",{className:"m-2",children:e.jsx(v,{children:e.jsxs(C,{children:[e.jsxs("label",{htmlFor:"customRange1",className:"flex text-neutral-700 dark:text-neutral-200",children:["MMR Group Size (",t.mmrGroupingWidth,")"]}),e.jsx("input",{type:"range",min:"5",max:"30",step:"1",className:"transparent h-1.5 w-full cursor-pointer appearance-none rounded-lg border-transparent bg-neutral-200",id:"customRange1",value:t.mmrGroupingWidth,onChange:l=>a({...t,mmrGroupingWidth:Number(l.target.value)})})]})})})]})}export{F as DistributionCurves};
